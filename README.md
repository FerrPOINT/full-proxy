# Krea.ai Reverse Proxy

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π reverse-proxy –¥–ª—è Krea.ai —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º OpenResty/Lua, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –¥–æ–º–µ–Ω–æ–º `krea.acm-ai.ru`.

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞ Krea.ai –ø–æ–¥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–æ–º–µ–Ω —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –ø–æ–¥–º–µ–Ω–æ–π –¥–æ–º–µ–Ω–∞ –≤:
- –ö—É–∫–∞—Ö (Set-Cookie –∑–∞–≥–æ–ª–æ–≤–∫–∏)
- –ó–∞–≥–æ–ª–æ–≤–∫–∞—Ö HTTP
- Fetch/XHR-–∑–∞–ø—Ä–æ—Å–∞—Ö
- localStorage
- –ê–±—Å–æ–ª—é—Ç–Ω—ã—Ö URL –≤ HTML/JS

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Browser       ‚îÇ    ‚îÇ  OpenResty       ‚îÇ    ‚îÇ  Krea.ai    ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ  Proxy           ‚îÇ    ‚îÇ             ‚îÇ
‚îÇ krea.acm-ai.ru  ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  krea.acm-ai.ru  ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  krea.ai    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **OpenResty** - NGINX —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º Lua
- **Lua-—Ñ–∏–ª—å—Ç—Ä—ã** - –¥–ª—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –∏ —Ç–µ–ª–æ–º –æ—Ç–≤–µ—Ç–∞
- **SSL/TLS** - Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- **CORS** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è iframe –ø–æ–¥–¥–µ—Ä–∂–∫–∏

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Ubuntu 18.04+ / CentOS 7+ / Debian 9+
- Root –¥–æ—Å—Ç—É–ø
- –î–æ–º–µ–Ω `krea.acm-ai.ru` –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã 80 –∏ 443

## üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd full-proxy
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenResty

```bash
chmod +x scripts/install.sh
sudo ./scripts/install.sh
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ A-–∑–∞–ø–∏—Å—å –¥–ª—è –¥–æ–º–µ–Ω–∞ `krea.acm-ai.ru` –Ω–∞ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
chmod +x scripts/manage.sh
sudo ./scripts/manage.sh ssl
```

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
chmod +x scripts/test.sh
./scripts/test.sh
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
full-proxy/
‚îú‚îÄ‚îÄ nginx.conf              # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è NGINX
‚îú‚îÄ‚îÄ lua/
‚îÇ   ‚îú‚îÄ‚îÄ cookie_filter.lua   # –§–∏–ª—å—Ç—Ä –¥–ª—è Set-Cookie –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ body_filter.lua     # –§–∏–ª—å—Ç—Ä –¥–ª—è –∑–∞–º–µ–Ω—ã URL –≤ —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ install.sh          # –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ test.sh            # –°–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ manage.sh          # –°–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–º
‚îú‚îÄ‚îÄ info/
‚îÇ   ‚îî‚îÄ‚îÄ TZ.md              # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–§–∞–π–ª `nginx.conf` —Å–æ–¥–µ—Ä–∂–∏—Ç:

- **SSL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —à–∏—Ñ—Ä–∞–º–∏
- **CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏** –¥–ª—è iframe –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- **WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫—É** –¥–ª—è real-time —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- **Lua-—Ñ–∏–ª—å—Ç—Ä—ã** –¥–ª—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** —Å CSP –∏ X-Frame-Options

### Lua-—Ñ–∏–ª—å—Ç—Ä—ã

#### cookie_filter.lua
–ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç `Set-Cookie` –∑–∞–≥–æ–ª–æ–≤–∫–∏:
- `Domain=krea.ai` ‚Üí `Domain=krea.acm-ai.ru`
- `Domain=.krea.ai` ‚Üí `Domain=krea.acm-ai.ru`
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏ (Secure, SameSite, etc.)

#### body_filter.lua
–ó–∞–º–µ–Ω—è–µ—Ç URL –≤ —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞:
- `https://krea.ai` ‚Üí `https://krea.acm-ai.ru`
- `//krea.ai` ‚Üí `//krea.acm-ai.ru`
- JSON –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è API –≤—ã–∑–æ–≤–æ–≤
- WebSocket URL

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã

```bash
./scripts/test.sh
```

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
- ‚úÖ –†–∞–±–æ—Ç—É Lua
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- ‚úÖ –ü–æ–¥–º–µ–Ω—É –¥–æ–º–µ–Ω–∞ –≤ –∫—É–∫–∞—Ö
- ‚úÖ –ó–∞–º–µ–Ω—É URL –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ
- ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ –ó–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫—É
- ‚úÖ Proxy –∑–∞–≥–æ–ª–æ–≤–∫–∏

### –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É:**
   ```
   https://krea.acm-ai.ru/krea-test.html
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ DevTools:**
   - Network tab: –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ `krea.acm-ai.ru`
   - Application ‚Üí Cookies: –¥–æ–º–µ–Ω `krea.acm-ai.ru`
   - Security: –Ω–µ—Ç –æ—à–∏–±–æ–∫ Mixed Content
   - Console: –Ω–µ—Ç –æ—à–∏–±–æ–∫ CSP

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
   - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ iframe
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo ./scripts/manage.sh start
sudo ./scripts/manage.sh stop
sudo ./scripts/manage.sh restart

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo ./scripts/manage.sh reload

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ –∏ –ª–æ–≥–æ–≤
sudo ./scripts/manage.sh status
sudo ./scripts/manage.sh logs

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo ./scripts/manage.sh test

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SSL
sudo ./scripts/manage.sh ssl

# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
sudo ./scripts/manage.sh backup
sudo ./scripts/manage.sh restore
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤:
- `/var/log/nginx/access.log` - –¥–æ—Å—Ç—É–ø—ã
- `/var/log/nginx/error.log` - –æ—à–∏–±–∫–∏

Lua-–ª–æ–≥–∏ –≤–∫–ª—é—á–∞—é—Ç:
- –ü–µ—Ä–µ–∑–∞–ø–∏—Å—å –∫—É–∫
- –ó–∞–º–µ–Ω—É URL
- –û—à–∏–±–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- `X-Frame-Options: ALLOWALL` - —Ä–∞–∑—Ä–µ—à–∞–µ—Ç iframe
- `Content-Security-Policy: frame-ancestors *` - CSP –¥–ª—è iframe
- `Access-Control-Allow-Credentials: true` - CORS –¥–ª—è iframe

### SSL/TLS

- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã (TLS 1.2, 1.3)
- –°–∏–ª—å–Ω—ã–µ —à–∏—Ñ—Ä—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Let's Encrypt

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **Lua –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
   ```bash
   curl https://krea.acm-ai.ru/lua_test
   # –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: "Lua —Ä–∞–±–æ—Ç–∞–µ—Ç!"
   ```

2. **SSL –æ—à–∏–±–∫–∏**
   ```bash
   sudo ./scripts/manage.sh ssl
   ```

3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è**
   ```bash
   sudo nginx -t
   sudo ./scripts/manage.sh reload
   ```

4. **–ö—É–∫–∏ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `sudo tail -f /var/log/nginx/error.log`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Lua-—Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã

5. **URL –Ω–µ –∑–∞–º–µ–Ω—è—é—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Content-Type –æ—Ç–≤–µ—Ç–∞
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Accept-Encoding –æ—Ç–∫–ª—é—á–µ–Ω

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo nginx -t

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
sudo tail -f /var/log/nginx/error.log

# –¢–µ—Å—Ç –ø—Ä–æ–∫—Å–∏
curl -I https://krea.acm-ai.ru/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL
openssl s_client -servername krea.acm-ai.ru -connect krea.acm-ai.ru:443
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
- –û—à–∏–±–∫–∏ SSL
- –û—à–∏–±–∫–∏ Lua-—Ñ–∏–ª—å—Ç—Ä–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Prometheus Node Exporter
sudo apt-get install prometheus-node-exporter

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ JSON
# –î–æ–±–∞–≤—å—Ç–µ –≤ nginx.conf:
# log_format json escape=json '{...}';
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

1. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é:
   ```bash
   sudo ./scripts/manage.sh backup
   ```

2. –û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:
   ```bash
   sudo ./scripts/manage.sh test
   ```

4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ:
   ```bash
   sudo ./scripts/manage.sh reload
   ```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ OpenResty

```bash
# Ubuntu/Debian
sudo apt-get update && sudo apt-get upgrade openresty

# CentOS/RHEL
sudo yum update openresty
```

## üìù –ß–µ–∫-–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] DNS –Ω–∞—Å—Ç—Ä–æ–µ–Ω: `krea.acm-ai.ru` ‚Üí IP —Å–µ—Ä–≤–µ—Ä–∞
- [ ] OpenResty —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] Lua-—Ñ–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- [ ] –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] DevTools –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- [ ] –ö—É–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –¥–æ–º–µ–Ω–æ–º
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ Mixed Content
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ iframe

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö:

```bash
# –í–∫–ª—é—á–∏—Ç—å debug –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
# –î–æ–±–∞–≤—å—Ç–µ –≤ nginx.conf:
# error_log /var/log/nginx/error.log debug;

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo ./scripts/manage.sh reload

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
sudo tail -f /var/log/nginx/error.log
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
sudo systemctl status openresty
sudo nginx -V  # –í–µ—Ä—Å–∏—è –∏ –º–æ–¥—É–ª–∏
lua -v         # –í–µ—Ä—Å–∏—è Lua

# –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
ab -n 1000 -c 10 https://krea.acm-ai.ru/

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
htop
iotop
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü—Ä–∞–≤–æ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç Terms of Service Krea.ai
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ OpenResty –∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
4. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

**–ê–≤—Ç–æ—Ä**: ACM AI Team  
**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–î–∞—Ç–∞**: 2024 